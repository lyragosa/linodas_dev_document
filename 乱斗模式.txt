乱斗模式

每周乱斗于每周四凌晨2点开始，于每周一凌晨2点结束
乱斗消耗10点AP
每周乱斗获得X胜（X没想好）获得一个补gei箱

乱斗将会从下述词缀中抽取一个或者多个进行组合。
请注意！因为有些词缀会冲突，所以并非自动，而是人工选定
如果本周管理员忘了选定（即“摸了”），那么本周乱斗就不开。
管理员可能会预先排定好几周的乱斗，但依然会出现“摸了”的情况。
乱斗可能会重复。


乱斗匹配模式：

乱斗匹配模式以下述方式进行
 - 首先进场需要选择一个卡组，这个卡组将会占用标准卡组位（没有专门的乱斗卡组的说法）
 - 但是！
 - 在进场之后这个卡组会被复制到乱斗卡组中，此后你就可以再次将此卡组改为其他的卡组。不会占用卡组位。
 - 不会做专门的“乱斗组卡器”，尽管这才是合理的做法，但是做起来太麻烦了，不做了！
 - 入场需要支付X点AP（X还在商讨，或者支付金币），之后就不需要消费AP了
 - 可以退出乱斗，再进入需要再次支付费用，同时重进可以更换其他卡组
 - 在乱斗页面点击“开始乱斗”，系统会找到另一个乱斗玩家并进行匹配乱斗。这一步骤可以无限制的进行
 - 请注意，每次乱斗季，只要选定卡组开始了乱斗，那么即使退出乱斗也会被归入乱斗匹配池，供其他玩家殴打。卡组为你上一次进乱斗的卡组。
 - 如果乱斗池内玩家数量少于5，那么直到补充到5之前，玩家不能开始乱斗比赛。
 - 主动发起的乱斗获胜3场将获得一个乱斗补gei箱，在本乱斗季将不会再有其他奖励
 - 被其他玩家殴打无论输赢都不会带来影响。
 - 由于补gei箱系统没做好，所以在做好之前，乱斗将一直处于不删档公测阶段，即使获胜3场也没有奖励，只有精神鼓励。

技术问题


设想中的乱斗词缀列表（仅为预览，不代表实际情况）

乱斗规则分类：

1.组牌规则变更（单一兵种，和平主义等）
 - 不附加在单位和战场上，在战场运行之前就需要进行检查
 - 需要单独的check工具
 - 进入乱斗场地之前进行check

2.场地效果/天气效果（鲜血献祭，真实大帝等）
 - 需要MOD在战场class上 
 - 可能需要多个隐藏的counter进行处理
 - 开场只处理一次

3.预处理规则（克隆大作战，天梯队友，卡组互换等）
 - 开战之前就要运行，在进入主函数之前需要完成战场修改

4.修改卡片本身数据（脸王之王，颠倒乾坤等）
 - 需要将卡片读取的源改为修改后的源
 - 可能需要重做lib_fight::get_card_info_in_battle

5.触发器（邪神降临，王八拳等）
 - 使用现有的oracle逻辑


 规则：单一兵种

 词缀：脸王之王

第一批 x16
- 无限火力：解除单卡5张的限制，可以自行选择放置多少张卡，即使超出拥有量（但要保证不超过精神值）
- 万智对决：卡组必须刚好达到60张，多余的禁止保存，少的系统会自动随机补齐
- 时空棱镜：在对战中，每隔X回合会随机转变一次棱镜，每个棱镜会随机禁用三系的卡（抽到直接炸掉），并让随机另外三系的卡出现炉石某个8费卡效果（抽到就复制一张）
- 单一兵种：每张卡只能放置一张
- 颠倒乾坤：防御和攻击卡交换面板（100护甲的卡造成100法术伤害，50物理伤害卡获得50护甲，但绿字和其他效果不变）
- 王八拳：每使用一张本场比赛自己出过类型的卡，就扣自己25%血量
- 镜像：开战的时候复制1个自身（变成2v2）
- 克隆大作战：开战的时候复制3个自身（变成4v4）
- 邪神降临：X个神祗将会在你血量/SP低于XX%的时候替换掉你，恢复全部HP和SP继续战斗，可以通过调整卡组中不同分类的卡来决定是哪个神祗来替换你
- 炉石传说：每个玩家有一个隐藏的“法力水晶计数器”在工作，每次轮到玩家出牌的时候都会+1，你无法使用需求等级高于法力水晶的卡片，如果刚好排定到你使用，那么这张卡会被放置到牌堆地步，并跳过当前回合。（如果使用额外行动的卡，那么本回合使用的所有卡等级之和都无法超过法力水晶上限）
- 鲜血献祭：每使用一张卡，就要消耗掉这张卡需求等级数量的HP
- 脸王之王：所有卡牌面板将变为0~xxx 例如[造成100点伤害]的卡会变为[造成0~100点伤害]，余此类推。
- 为所欲为：所有的“下一回合+/-xxx”都变为“永久+/-xxx”
- 神经病晚会：双方玩家的HP均变为99999
- 天梯队友：双方开场会获得一个额外的单位加入，这个单位会随机从所有副本BOSS/训练场怪物中抽取
- 卡组互换：你的卡组给对方使用，对方的卡组给你使用

第二批 x18
- 和平主义：只能使用“特效”分类的卡片。
- 武器大师：只能使用六个物理大类的卡片。
- 法术大师：只能使用六个法术大类的卡片。
- XX之X：只能使用当前版本下，卡片名称结构为“XX之X”（只能是四个字）的卡片。
- 三字经：只能使用当前版本下，卡片名字为三个字的卡片。
- 蓝天白云绿草地：只能使用蓝，绿，白三种颜色的卡组卡
- 吃瓜群众：会随机抽选三位玩家加入场内，HP和SP保留，但卡组会被空白的“围观”卡（没有效果）填满。
- 宝可梦大师：血量变为三倍，除了乱斗卡组，还会将两副你的随机其他正常卡组加入到套牌中一并洗牌。
- 这火你来传：最先损失完所有SP的玩家获胜（损失完HP则失败）
- 陷阱桥：造成的伤害如果（无论dot或者直伤）大于对方当前SP，那么这个伤害无效
- 公平正义：禁用SP伤害
- 真实大帝：所有卡在打出之后不会进入墓地，而是返回卡堆底部。
- 夺卡奇兵：如果你当前出的卡片等级低于对手，那么对手这张卡片出完之后，这张卡将被复制到你卡堆的底部
- 亡者归来：每隔X回合，从对方墓地中召回N张卡到你牌堆底部
- 迷你战争：卡片上的所有数字改为1（包括dot持续时间等）
- 炸不死你：每次玩家用卡之后，场地上一个隐藏计数器会计数玩家用卡的等级数，接下来会开始随机轰炸场地，让双方随机收到一些伤害，每轰炸1点伤害，就扣去一点计数器值，随着回合数的进行，计数器将会统计1.5倍，2倍，2.5倍的等级数，以此类推。
- 数学游戏：必须在指定回合数的倍数（例如要在4的倍数回合）结束战斗，这就算双方都获胜，否则算双方都失败。
- 拙劣的合作模式：双方玩家都是无敌的，场上存在一个数字为5000的计数器，玩家的伤害都转为减少这个计数器的值，减到0就双方都获胜，其他的其他都算双方失败（任意一方SP到0等）

第三批 
- 精神稳定：所有被弃掉的卡片不会进入墓地，改为进入卡堆的底部









简易修改器：



    <p>
                    <b class="c5">炉石传说</b> <BR>
                    双方玩家持有一个隐藏的“法力水晶计数器”，每次轮到玩家出牌的时候，计数器会+1<del>(s)</del>。
                    你无法使用需求等级高于法力水晶数的卡片。如果刚好排定到你使用，那么这张卡会被放置到牌堆底部。并跳过当前回合。<BR>
                    如果使用额外行动的卡，那么本回合使用的所有卡等级之和都无法超过法力水晶上限。
                </p>
                <p>
                    <b class="c5">夺卡奇兵</b> <BR>
                    如果当前回合出的卡比对方前一轮出的卡需求等级更高，那么此卡片作用完成之后会进入对方卡堆的底部。
                </p>
                <p>
                    <b class="c5">鲜血献祭</b> <BR>
                    每使用一张卡，就要消耗掉这张卡需求等级数量的生命值。
                </p>







